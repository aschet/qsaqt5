<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- ../../src/qsa/qseditor.cpp -->
<head>
  <title>QSA 1.2: QSEditor Class Reference</title>
    <style type="text/css">h3.fn,span.fn { margin-left: 1cm; text-indent: -1cm; }
a:link { color: #004faf; text-decoration: none }
a:visited { color: #672967; text-decoration: none }
td.postheader { font-family: sans-serif }
tr.address { font-family: sans-serif }
body { background: #ffffff; color: black; }</style>
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qt-logo.png" align="left" width="32" height="32" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="getting-started.html"><font color="#004faf">Tutorial</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">Classes</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a>&nbsp;&middot; <a href="language.html"><font color="#004faf">Language</font></a>&nbsp;&middot; <a href="workbench-reference.html"><font color="#004faf">QSA Workbench</font></a>&nbsp;&middot; <a href="http://doc.trolltech.com/4.1"><font color="#004faf">Qt Documentation</font></a>&nbsp;&middot; <a href="http://www.trolltech.com/"><font color="#004faf">www.trolltech.com</font></a></td>
<td align="right" valign="top" width="230"><img src="images/trolltech-logo.png" align="right" width="203" height="32" border="0" /></td></tr></table><h1 class="title">QSEditor Class Reference</h1>
<p>The QSEditor class provides an enhanced editor for editing Qt Script source code. <a href="#details">More...</a></p>
<pre>    #include &lt;QSEditor&gt;</pre><ul>
<li><a href="qseditor-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qseditor.html#QSEditor">QSEditor</a></b> ( QWidget * <i>parent</i>, const char * <i>name</i> = 0 )</li>
<li><div class="fn"/><b><a href="qseditor.html#dtor.QSEditor">~QSEditor</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qseditor.html#commit">commit</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qseditor.html#copy">copy</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qseditor.html#cut">cut</a></b> ()</li>
<li><div class="fn"/>bool <b><a href="qseditor.html#find">find</a></b> ( const QString &amp; <i>expr</i>, bool <i>cs</i>, bool <i>wo</i>, bool <i>forward</i>, bool <i>startAtCursor</i> )</li>
<li><div class="fn"/>void <b><a href="qseditor.html#gotoLine">gotoLine</a></b> ( int <i>line</i> )</li>
<li><div class="fn"/>void <b><a href="qseditor.html#indent">indent</a></b> ()</li>
<li><div class="fn"/>QSInterpreter * <b><a href="qseditor.html#interpreter">interpreter</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qseditor.html#isActive">isActive</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qseditor.html#isModified">isModified</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qseditor.html#isRedoAvailable">isRedoAvailable</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qseditor.html#isUndoAvailable">isUndoAvailable</a></b> () const</li>
<li><div class="fn"/>void <b><a href="qseditor.html#paste">paste</a></b> ()</li>
<li><div class="fn"/>QSProject * <b><a href="qseditor.html#project">project</a></b> () const</li>
<li><div class="fn"/>void <b><a href="qseditor.html#readSettings">readSettings</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qseditor.html#redo">redo</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qseditor.html#removeErrorMark">removeErrorMark</a></b> ()</li>
<li><div class="fn"/>bool <b><a href="qseditor.html#replace">replace</a></b> ( const QString &amp; <i>find</i>, const QString &amp; <i>replace</i>, bool <i>cs</i>, bool <i>wo</i>, bool <i>forward</i>, bool <i>startAtCursor</i>, bool <i>replaceAll</i> )</li>
<li><div class="fn"/>void <b><a href="qseditor.html#revert">revert</a></b> ()</li>
<li><div class="fn"/>QSScript * <b><a href="qseditor.html#script">script</a></b> () const</li>
<li><div class="fn"/>void <b><a href="qseditor.html#selectAll">selectAll</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qseditor.html#setErrorMark">setErrorMark</a></b> ( int <i>line</i> )</li>
<li><div class="fn"/>bool <b><a href="qseditor.html#setInterpreter">setInterpreter</a></b> ( QSInterpreter * <i>interpreter</i>, QObject * <i>context</i> = 0 )</li>
<li><div class="fn"/>bool <b><a href="qseditor.html#setScript">setScript</a></b> ( QSScript * <i>script</i> )</li>
<li><div class="fn"/>void <b><a href="qseditor.html#setText">setText</a></b> ( const QString &amp; <i>text</i> )</li>
<li><div class="fn"/>QString <b><a href="qseditor.html#text">text</a></b> () const</li>
<li><div class="fn"/>Q3TextEdit * <b><a href="qseditor.html#textEdit">textEdit</a></b> () const</li>
<li><div class="fn"/>void <b><a href="qseditor.html#undo">undo</a></b> ()</li>
</ul>
<a name="signals"></a>
<h3>Signals</h3>
<ul>
<li><div class="fn"/>void <b><a href="qseditor.html#textChanged">textChanged</a></b> ()</li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QSEditor class provides an enhanced editor for editing Qt Script source code.</p>
<p>For some applications <i>QSA Workbench</i> is too complex and it might be more appropriate to embed a simple editor into the application's user interface. QSEditor provides a type of widget component which offers normal editor functionality as well as Qt Script syntax highlighting, completion, function argument hints, and auto-indentation.</p>
<p>The text in the QSEditor can be set using <a href="qseditor.html#setText">setText</a>() and retrieved using <a href="qseditor.html#text">text</a>().</p>
<p>A QSEditor can be associated with a <a href="qsscript.html">QSScript</a> object using <a href="qseditor.html#setScript">setScript</a>() and the <a href="qsscript.html">QSScript</a> can then be retrieved by using <a href="qseditor.html#script">script</a>().</p>
<p>When text is edited in the QSEditor, it is not directly reflected in the underlying script. To write the changes from the editor to the script, use <a href="qseditor.html#commit">commit</a>(). To revert the changes from the editor to the text in the script, use <a href="qseditor.html#revert">revert</a>().</p>
<p>The QSEditor will automatically become the active editor when it gets the focus. The active editor can be retrieved from <a href="qsproject.html">QSProject</a>.</p>
<p>Look at the examples/scriptbutton and examples/console examples to see an example of the QSEditor class.</p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QSEditor"></a>QSEditor::QSEditor ( QWidget * <i>parent</i>, const char * <i>name</i> = 0 )</h3>
<p>Constructs an editor not linked to any project.</p>
<p>The <i>parent</i> argument is passed to the QWidget constructor. The <i>name</i> argument is used as the widget's object name.</p>
<h3 class="fn"><a name="dtor.QSEditor"></a>QSEditor::~QSEditor ()</h3>
<p>Destructs the editor.</p>
<h3 class="fn"><a name="commit"></a>void QSEditor::commit ()</h3>
<p>Updates the script with the text in the editor.</p>
<p>When the text in the editor is changed, the changes must be committed before they are reflected in the script.</p>
<h3 class="fn"><a name="copy"></a>void QSEditor::copy ()</h3>
<p>Copies the selected text to the clipboard.</p>
<h3 class="fn"><a name="cut"></a>void QSEditor::cut ()</h3>
<p>Cuts the selected text to the clipboard.</p>
<h3 class="fn"><a name="find"></a>bool QSEditor::find ( const QString &amp; <i>expr</i>, bool <i>cs</i>, bool <i>wo</i>, bool <i>forward</i>, bool <i>startAtCursor</i> )</h3>
<p>Finds the string <i>expr</i> in the editor and selects the result. If <i>cs</i> is true, the search is case sensitive. If <i>wo</i> is true, only whole words are searched. If <i>forward</i> is true, the search is executed forward, otherwise backwards. If <i>startAtCursor</i> is true, the search starts at the current cursor position, otherwise it starts at the beginning of the document.</p>
<p>Returns true if <i>expr</i> was found, otherwise returns false.</p>
<h3 class="fn"><a name="gotoLine"></a>void QSEditor::gotoLine ( int <i>line</i> )</h3>
<p>Moves the cursor to the line <i>line</i> in the editor.</p>
<h3 class="fn"><a name="indent"></a>void QSEditor::indent ()</h3>
<p>Indents the current line or selection.</p>
<h3 class="fn"><a name="interpreter"></a><a href="qsinterpreter.html">QSInterpreter</a> * QSEditor::interpreter () const</h3>
<p>Returns the interpreter that this editor uses for completion if it has been set; otherwise returns 0.</p>
<p>The interpreter can be set using functions <a href="qsproject.html#createEditor">QSProject::createEditor</a>(), <a href="qseditor.html#setScript">setScript</a>() or <a href="qseditor.html#setInterpreter">setInterpreter</a>().</p>
<p>See also <a href="qseditor.html#setInterpreter">setInterpreter</a>().</p>
<h3 class="fn"><a name="isActive"></a>bool QSEditor::isActive () const</h3>
<p>Returns true if the editor is active; otherwise returns false.</p>
<p>See the class description for information on active editors.</p>
<h3 class="fn"><a name="isModified"></a>bool QSEditor::isModified () const</h3>
<p>Returns true if the text in the editor is different from the text in the underlying script. This is the case whenever the user edited the script and the changes have not been committed or reverted.</p>
<h3 class="fn"><a name="isRedoAvailable"></a>bool QSEditor::isRedoAvailable () const</h3>
<p>Returns true if redo is available; otherwise returns false.</p>
<h3 class="fn"><a name="isUndoAvailable"></a>bool QSEditor::isUndoAvailable () const</h3>
<p>Returns true if undo is available; otherwise returns false.</p>
<h3 class="fn"><a name="paste"></a>void QSEditor::paste ()</h3>
<p>Pastes text from the clipboard into the editor.</p>
<h3 class="fn"><a name="project"></a><a href="qsproject.html">QSProject</a> * QSEditor::project () const</h3>
<p>Returns the project the editor is associated with; otherwise returns 0.</p>
<h3 class="fn"><a name="readSettings"></a>void QSEditor::readSettings ()</h3>
<p>Re-reads settings for syntax highlighting, indentation, etc. The settings are read from the QSettings path <tt>/Trolltech/QSAScriptEditor/</tt>.</p>
<p>The following settings are read for syntax highlighting:</p>
<p><i>c</i> /Comment <i>c</i> /Number <i>c</i> /String <i>c</i> /Type <i>c</i> /Label <i>c</i> /Standard</p>
<p>For each of those, the following settings are read:</p>
<p><i>c</i> /family (string) <i>c</i> /size (number) <i>c</i> /bold (bool) <i>c</i> /italic (bool) <i>c</i> /underline (bool) <i>c</i> /red (number) <i>c</i> /green (number) <i>c</i> /blue (number)</p>
<p>The font family for strings is e.g&#x2e; saved in <tt>/Trolltech/QuickScriptEditor/String/family</tt>.</p>
<p>The following settings for indentation are read:</p>
<p><i>c</i> /indentAutoIndent (bool) - whether auto indentation should be done <i>c</i> /indentTabSize (number) - the tab size for indentation <i>c</i> /indentIndentSize (number) - the indentation width <i>c</i> /indentKeepTabs (bool) - whether to keep tabs or to replace them with spaces</p>
<p>Code completion can be switched on or off via <tt>/completion</tt>. Wordwrapping can be switched on or off via <tt>/wordWrap</tt>. Parentheses matching can be switched on or off via <tt>/parenMatching</tt>.</p>
<h3 class="fn"><a name="redo"></a>void QSEditor::redo ()</h3>
<p>Redo the last editor operation.</p>
<h3 class="fn"><a name="removeErrorMark"></a>void QSEditor::removeErrorMark ()</h3>
<p>Removes all the error marks for the editor.</p>
<h3 class="fn"><a name="replace"></a>bool QSEditor::replace ( const QString &amp; <i>find</i>, const QString &amp; <i>replace</i>, bool <i>cs</i>, bool <i>wo</i>, bool <i>forward</i>, bool <i>startAtCursor</i>, bool <i>replaceAll</i> )</h3>
<p>Replaces the string <i>find</i> in the editor with <i>replace</i>. If <i>cs</i> is true, the search is case sensitive. If <i>wo</i> is true, only whole words are searched. If <i>forward</i> is true, the search is executed forward, otherwise backwards. If <i>startAtCursor</i> is true, the search starts at the current cursor position, otherwise it starts at the beginning of the document. If <i>replaceAll</i> is true, all found occurrences of <i>find</i> are replaced by <i>replace</i>. Otherwise only the first occurrence is replaced.</p>
<h3 class="fn"><a name="revert"></a>void QSEditor::revert ()</h3>
<p>Reverts the contents in the editor back to the contents of the underlying script.</p>
<h3 class="fn"><a name="script"></a><a href="qsscript.html">QSScript</a> * QSEditor::script () const</h3>
<p>Returns the script that the editor is editing if any; otherwise returns 0.</p>
<p>See also <a href="qseditor.html#setScript">setScript</a>().</p>
<h3 class="fn"><a name="selectAll"></a>void QSEditor::selectAll ()</h3>
<p>Selects all the text in the editor.</p>
<h3 class="fn"><a name="setErrorMark"></a>void QSEditor::setErrorMark ( int <i>line</i> )</h3>
<p>Highlights the line <i>line</i>. This can be used e.g&#x2e;, to show an error or warning.</p>
<h3 class="fn"><a name="setInterpreter"></a>bool QSEditor::setInterpreter ( <a href="qsinterpreter.html">QSInterpreter</a> * <i>interpreter</i>, QObject * <i>context</i> = 0 )</h3>
<p>Sets the interpreter that this editor will do completion for to <i>interpreter</i> with the context ( <tt>this</tt> object ) as <i>context</i></p>
<p>This function is only for use when the editor is used outside a project. If the editor has been associated with a project with the functions <a href="qsproject.html#createEditor">QSProject::createEditor</a>() or <a href="qseditor.html#setScript">QSEditor::setScript</a>() this function will not have any effect.</p>
<p>See also <a href="qseditor.html#interpreter">interpreter</a>(), <a href="qsproject.html#createEditor">QSProject::createEditor</a>(), and <a href="qseditor.html#setScript">setScript</a>().</p>
<h3 class="fn"><a name="setScript"></a>bool QSEditor::setScript ( <a href="qsscript.html">QSScript</a> * <i>script</i> )</h3>
<p>Sets the current script of the editor to be <i>script</i>.</p>
<p>See also <a href="qseditor.html#script">script</a>().</p>
<h3 class="fn"><a name="setText"></a>void QSEditor::setText ( const QString &amp; <i>text</i> )</h3>
<p>Sets the editor contents to <i>text</i>.</p>
<p>See also <a href="qseditor.html#text">text</a>().</p>
<h3 class="fn"><a name="text"></a>QString QSEditor::text () const</h3>
<p>Returns the text of the editor.</p>
<p>See also <a href="qseditor.html#setText">setText</a>().</p>
<h3 class="fn"><a name="textChanged"></a>void QSEditor::textChanged ()&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is emitted if the text of the editor has been changed</p>
<h3 class="fn"><a name="textEdit"></a>Q3TextEdit * QSEditor::textEdit () const</h3>
<p>Returns the pointer to the real editor widget which is a Q3TextEdit. This might be 0 if an error occurred while initializing the editor.</p>
<h3 class="fn"><a name="undo"></a>void QSEditor::undo ()</h3>
<p>Undo the last editor operation.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td width="30%">Copyright &copy; 2008 <a href="http://www.trolltech.com">Trolltech</a></td>
<td width="40%" align="center"><a href="http://www.trolltech.com/company/copyright.html">Trademarks</a></td>
<td width="30%" align="right"><div align="right">QSA 1.2.3</div></td>
</tr></table></div></address></body>
</html>
