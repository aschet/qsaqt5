<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- ../../examples/scribblescripter/scribblescripter.qdoc -->
<head>
  <title>QSA 1.2: Scribblescripter Example</title>
    <style type="text/css">h3.fn,span.fn { margin-left: 1cm; text-indent: -1cm; }
a:link { color: #004faf; text-decoration: none }
a:visited { color: #672967; text-decoration: none }
td.postheader { font-family: sans-serif }
tr.address { font-family: sans-serif }
body { background: #ffffff; color: black; }</style>
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qt-logo.png" align="left" width="32" height="32" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="getting-started.html"><font color="#004faf">Tutorial</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">Classes</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a>&nbsp;&middot; <a href="language.html"><font color="#004faf">Language</font></a>&nbsp;&middot; <a href="workbench-reference.html"><font color="#004faf">QSA Workbench</font></a>&nbsp;&middot; <a href="http://doc.trolltech.com/4.1"><font color="#004faf">Qt Documentation</font></a>&nbsp;&middot; <a href="http://www.trolltech.com/"><font color="#004faf">www.trolltech.com</font></a></td>
<td align="right" valign="top" width="230"><img src="images/trolltech-logo.png" align="right" width="203" height="32" border="0" /></td></tr></table><h1 class="title">Scribblescripter Example<br /><span class="subtitle"></span>
</h1>
<p>The Scribblescripter example is a simple drawing application which allows the end user to write macros to create drawings. The developer creates the Scribblescripter application and then makes it scriptable so that the end user can create their own scripts. The following text describes the application from the end user point of view, followed by a quick demonstration in how to create a new function for the application.</p>
<p>The toolbar for this example is a standard toolbar that the application's developer has created. The Scribblescripts window is on the left side of the application and it displays a list of classes and functions that the user has implemented in Qt Script. If the user double clicks on a function in the list, the function is executed. For demonstration purposes, there are already four functions in the list. The right side of the application shows a drawing canvas which is exposed as an application object so that the user can access it from QSA.</p>
<p>The application developer also includes two buttons at the bottom of the Scribblescripts window. To create and edit scripts, click the Edit Scripts button to open the QSA Workbench, where one can edit scripts. The user clicks the Update button to refresh the list in the Scribblescripts window if a new function has been created. The Scribblescripter example exposes one application object, the canvas.</p>
<p>The API of its interface is as follows:</p>
<pre>    CanvasInterface:

    Functions:

    PixmapInterface pixmap();
    setPixmap( PixmapInterface pixmap );
    Number width();
    Number height();
    Number visibleWidth();
    Number visibleHeight();</pre>
<p>The API of the Pixmap interface which is used in the canvas interface is as follows:</p>
<pre>    PixmapInterface:

    Properties:

    Color color
    QColor background
    Number penWidth

    Functions:

    PixmapInterface pixmap()
    setPixmap( PixmapInterface pixmap )
    clear()
    fillRect( Number x, Number y, Number w, Number h )
    scale( Number sx, Number sy )
    shear( Number sh, Number sv )
    rotate( Number val )
    translate( Number dx, Number dy )
    drawPoint( Number x, Number y )
    moveTo( Number x, Number y )
    lineTo( Number x, Number y )
    drawLine( Number x1, Number y1, Number x2, Number y2 )
    drawRect( Number x, Number y, Number w, Number h )
    drawWinFocusRect( Number x, Number y, Number w, Number h )
    drawRoundRect( Number x, Number y, Number w, Number h, Number xRnd, Number yRnd )
    drawEllipse( Number x, Number y, Number w, Number h )
    drawArc( Number x, Number y, Number w, Number h, Number a, Number alen )
    drawPie( Number x, Number y, Number w, Number h, Number a, Number alen )
    drawChord( Number x, Number y, Number w, Number h, Number a, Number alen )
    drawText( QString text, Number x, Number y )
    eraseRect( Number x, Number y, Number w, Number h )
    setWindow( Number x, Number y, Number w, Number h )
    setViewport( Number x, Number y, Number w, Number h )
    resize( Number w, Number h )</pre>
<a name="describing-the-four-example-scripts"></a>
<h2>Describing the four example scripts</h2>
<a name="painttext"></a>
<h3>paintText()</h3>
<p>This function opens a dialog to ask the user for some parameters,such as which text to draw, how often to draw it, etc. When the user accepts the settings, the pixmap interface is used to draw the given text using the given parameters.</p>
<a name="lines"></a>
<h3>lines()</h3>
<p>The lines function draws a number of lines, each starting at the center of the canvas and ending at a point on the periphery of the largest oval shape that can fit on the canvas. Each line is drawn at a distance of ten degrees from the previous.</p>
<a name="qt"></a>
<h3>Qt()</h3>
<p>The Qt function draws the Qt Logo scaled to the size of the canvas onto the canvas. It uses the drawing function of the pixmap interface to do the drawing.</p>
<a name="simplegradient"></a>
<h3>simpleGradient()</h3>
<p>This function fills the canvas with a gradient from red to blue.</p>
<p>To Add a new function to this application:</p>
<ul>
<li>Click the Edit Scripts button to open the Qt Script for Applications window</li>
<li>Click main.qs, which is the file for adding new functions</li>
<li>Add the new function to the file</li>
<li>Return to the Scribblescripter application window</li>
<li>Click the Update button to add the new function to the list</li>
</ul>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td width="30%">Copyright &copy; 2008 <a href="http://www.trolltech.com">Trolltech</a></td>
<td width="40%" align="center"><a href="http://www.trolltech.com/company/copyright.html">Trademarks</a></td>
<td width="30%" align="right"><div align="right">QSA 1.2.3</div></td>
</tr></table></div></address></body>
</html>
